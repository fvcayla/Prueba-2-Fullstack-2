{"ast":null,"code":"/**\r\n * Archivo de datos simulada (base de datos) para TechStore\r\n * Implementa operaciones CRUD para productos, usuarios y blog posts\r\n */\n\n// Datos iniciales\nlet products = [{\n  id: 1,\n  name: \"Laptop Ultraligera\",\n  price: 1200,\n  image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Laptop\",\n  description: \"Una laptop de alto rendimiento, ideal para trabajo y entretenimiento. Cuenta con un procesador de última generación y una batería de larga duración.\",\n  category: \"Computadoras\",\n  stock: 10\n}, {\n  id: 2,\n  name: \"Auriculares Inalámbricos\",\n  price: 150,\n  image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Auriculares\",\n  description: \"Auriculares con cancelación de ruido y sonido de alta fidelidad. Perfectos para escuchar música o hacer llamadas sin interrupciones.\",\n  category: \"Audio\",\n  stock: 25\n}, {\n  id: 3,\n  name: \"Smartphone 5G\",\n  price: 800,\n  image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Smartphone\",\n  description: \"El smartphone más rápido con conectividad 5G. Captura fotos impresionantes y disfruta de una fluidez inigualable en todas tus aplicaciones.\",\n  category: \"Móviles\",\n  stock: 15\n}, {\n  id: 4,\n  name: \"Smartwatch Deportivo\",\n  price: 250,\n  image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Smartwatch\",\n  description: \"Monitoriza tus actividades físicas y notificaciones con estilo. Resistente al agua y con una batería que dura toda la semana.\",\n  category: \"Wearables\",\n  stock: 30\n}, {\n  id: 5,\n  name: \"Monitor 4K\",\n  price: 450,\n  image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Monitor\",\n  description: \"Un monitor con una resolución impresionante para trabajo de diseño, edición de video y gaming. Los colores son vivos y el detalle es nítido.\",\n  category: \"Monitores\",\n  stock: 12\n}, {\n  id: 6,\n  name: \"Teclado Mecánico\",\n  price: 90,\n  image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Teclado\",\n  description: \"Teclado con switches mecánicos para una respuesta táctil y sonora. Ideal para gamers y programadores.\",\n  category: \"Periféricos\",\n  stock: 20\n}, {\n  id: 7,\n  name: \"Mouse Gaming\",\n  price: 60,\n  image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Mouse\",\n  description: \"Mouse ergonómico con alta precisión. Cuenta con botones programables y luces RGB personalizables.\",\n  category: \"Periféricos\",\n  stock: 35\n}, {\n  id: 8,\n  name: \"Cámara Web Full HD\",\n  price: 75,\n  image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Webcam\",\n  description: \"Cámara web de alta resolución para videoconferencias y streaming. Captura imágenes claras y nítidas incluso con poca luz.\",\n  category: \"Video\",\n  stock: 18\n}];\nlet users = [{\n  id: 1,\n  name: \"Admin\",\n  email: \"admin@techstore.com\",\n  password: \"admin123\",\n  role: \"admin\",\n  createdAt: new Date().toISOString()\n}, {\n  id: 2,\n  name: \"Juan Pérez\",\n  email: \"juan@example.com\",\n  password: \"user123\",\n  role: \"user\",\n  createdAt: new Date().toISOString()\n}, {\n  id: 3,\n  name: \"María González\",\n  email: \"maria@example.com\",\n  password: \"user123\",\n  role: \"user\",\n  createdAt: new Date().toISOString()\n}];\nlet blogPosts = [{\n  id: 1,\n  title: \"Los 5 Gadgets más Esperados de 2025\",\n  image: \"https://via.placeholder.com/400x250/3498db/ffffff?text=Blog+Post+1\",\n  text: \"Este año promete ser uno de los más emocionantes para la tecnología. Desde autos voladores hasta dispositivos de realidad aumentada, aquí te mostramos los gadgets que están a punto de cambiar el juego. Conoce las características que los hacen únicos y por qué debes tenerlos en tu lista de deseos.\",\n  author: \"TechStore Team\",\n  createdAt: new Date().toISOString()\n}, {\n  id: 2,\n  title: \"Guía para Elegir tu Primera Laptop Gaming\",\n  image: \"https://via.placeholder.com/400x250/3498db/ffffff?text=Blog+Post+2\",\n  text: \"Adentrarse en el mundo del gaming en PC puede ser intimidante. Te explicamos los componentes clave que debes buscar en una laptop gaming: procesador, tarjeta gráfica, RAM y almacenamiento. Con nuestra guía, estarás listo para jugar tus títulos favoritos sin problemas.\",\n  author: \"TechStore Team\",\n  createdAt: new Date().toISOString()\n}, {\n  id: 3,\n  title: \"El Futuro de la Realidad Virtual\",\n  image: \"https://via.placeholder.com/400x250/3498db/ffffff?text=Blog+Post+3\",\n  text: \"La realidad virtual ya no es solo para juegos. Desde la educación hasta la medicina, su aplicación está creciendo exponencialmente. Analizamos las tendencias futuras de la RV, incluyendo la integración de la IA y el desarrollo de hardware más ligero y potente.\",\n  author: \"TechStore Team\",\n  createdAt: new Date().toISOString()\n}];\nlet cart = [];\nlet orders = [];\nlet categories = [{\n  id: 1,\n  name: \"Computadoras\",\n  description: \"Laptops y computadoras de escritorio\"\n}, {\n  id: 2,\n  name: \"Audio\",\n  description: \"Auriculares y sistemas de audio\"\n}, {\n  id: 3,\n  name: \"Móviles\",\n  description: \"Smartphones y accesorios\"\n}, {\n  id: 4,\n  name: \"Wearables\",\n  description: \"Smartwatches y dispositivos portátiles\"\n}, {\n  id: 5,\n  name: \"Monitores\",\n  description: \"Monitores y pantallas\"\n}, {\n  id: 6,\n  name: \"Periféricos\",\n  description: \"Teclados, mouse y accesorios\"\n}, {\n  id: 7,\n  name: \"Video\",\n  description: \"Cámaras y equipos de video\"\n}];\nlet nextId = {\n  products: Math.max(...products.map(p => p.id), 0) + 1,\n  users: Math.max(...users.map(u => u.id), 0) + 1,\n  blogPosts: Math.max(...blogPosts.map(b => b.id), 0) + 1,\n  orders: 1,\n  categories: Math.max(...categories.map(c => c.id), 0) + 1\n};\n\n// ============ PRODUCTOS CRUD ============\n\nexport const productService = {\n  // READ - Obtener todos los productos\n  getAll: () => {\n    return [...products];\n  },\n  // READ - Obtener un producto por ID\n  getById: id => {\n    return products.find(p => p.id === parseInt(id));\n  },\n  // CREATE - Crear un nuevo producto\n  create: productData => {\n    const newProduct = {\n      id: nextId.products++,\n      ...productData,\n      createdAt: new Date().toISOString()\n    };\n    products.push(newProduct);\n    return newProduct;\n  },\n  // UPDATE - Actualizar un producto existente\n  update: (id, productData) => {\n    const index = products.findIndex(p => p.id === parseInt(id));\n    if (index === -1) {\n      throw new Error('Producto no encontrado');\n    }\n    products[index] = {\n      ...products[index],\n      ...productData,\n      updatedAt: new Date().toISOString()\n    };\n    return products[index];\n  },\n  // DELETE - Eliminar un producto\n  delete: id => {\n    const index = products.findIndex(p => p.id === parseInt(id));\n    if (index === -1) {\n      throw new Error('Producto no encontrado');\n    }\n    const deleted = products.splice(index, 1)[0];\n    return deleted;\n  },\n  // Buscar productos por nombre o categoría\n  search: query => {\n    const lowerQuery = query.toLowerCase();\n    return products.filter(p => p.name.toLowerCase().includes(lowerQuery) || p.category.toLowerCase().includes(lowerQuery) || p.description.toLowerCase().includes(lowerQuery));\n  },\n  // Obtener productos por categoría\n  getByCategory: category => {\n    return products.filter(p => p.category === category);\n  },\n  // Obtener productos críticos (stock bajo)\n  getCriticalProducts: (threshold = 15) => {\n    return products.filter(p => p.stock <= threshold);\n  },\n  // Obtener productos en oferta (simulado: productos con descuento del 20% o más)\n  getOnSale: () => {\n    // Para simular ofertas, podríamos marcar algunos productos\n    // Por ahora retornamos productos con precio menor a cierto umbral\n    return products.filter(p => p.price < 300);\n  }\n};\n\n// ============ USUARIOS CRUD ============\n\nexport const userService = {\n  // READ - Obtener todos los usuarios\n  getAll: () => {\n    return users.map(u => ({\n      ...u,\n      password: undefined\n    })); // No devolver passwords\n  },\n  // READ - Obtener un usuario por ID\n  getById: id => {\n    const user = users.find(u => u.id === parseInt(id));\n    if (user) {\n      const {\n        password,\n        ...userWithoutPassword\n      } = user;\n      return userWithoutPassword;\n    }\n    return null;\n  },\n  // READ - Obtener usuario por email\n  getByEmail: email => {\n    return users.find(u => u.email === email);\n  },\n  // CREATE - Crear un nuevo usuario\n  create: userData => {\n    const newUser = {\n      id: nextId.users++,\n      role: 'user',\n      ...userData,\n      createdAt: new Date().toISOString()\n    };\n    users.push(newUser);\n    const {\n      password,\n      ...userWithoutPassword\n    } = newUser;\n    return userWithoutPassword;\n  },\n  // UPDATE - Actualizar un usuario existente\n  update: (id, userData) => {\n    const index = users.findIndex(u => u.id === parseInt(id));\n    if (index === -1) {\n      throw new Error('Usuario no encontrado');\n    }\n    users[index] = {\n      ...users[index],\n      ...userData,\n      updatedAt: new Date().toISOString()\n    };\n    const {\n      password,\n      ...userWithoutPassword\n    } = users[index];\n    return userWithoutPassword;\n  },\n  // DELETE - Eliminar un usuario\n  delete: id => {\n    const index = users.findIndex(u => u.id === parseInt(id));\n    if (index === -1) {\n      throw new Error('Usuario no encontrado');\n    }\n    const deleted = users.splice(index, 1)[0];\n    const {\n      password,\n      ...userWithoutPassword\n    } = deleted;\n    return userWithoutPassword;\n  },\n  // Autenticar usuario\n  authenticate: (email, password) => {\n    const user = users.find(u => u.email === email && u.password === password);\n    if (user) {\n      const {\n        password,\n        ...userWithoutPassword\n      } = user;\n      return userWithoutPassword;\n    }\n    return null;\n  }\n};\n\n// ============ BLOG POSTS CRUD ============\n\nexport const blogService = {\n  // READ - Obtener todos los blog posts\n  getAll: () => {\n    return [...blogPosts];\n  },\n  // READ - Obtener un blog post por ID\n  getById: id => {\n    return blogPosts.find(b => b.id === parseInt(id));\n  },\n  // CREATE - Crear un nuevo blog post\n  create: postData => {\n    const newPost = {\n      id: nextId.blogPosts++,\n      author: \"TechStore Team\",\n      ...postData,\n      createdAt: new Date().toISOString()\n    };\n    blogPosts.push(newPost);\n    return newPost;\n  },\n  // UPDATE - Actualizar un blog post existente\n  update: (id, postData) => {\n    const index = blogPosts.findIndex(b => b.id === parseInt(id));\n    if (index === -1) {\n      throw new Error('Blog post no encontrado');\n    }\n    blogPosts[index] = {\n      ...blogPosts[index],\n      ...postData,\n      updatedAt: new Date().toISOString()\n    };\n    return blogPosts[index];\n  },\n  // DELETE - Eliminar un blog post\n  delete: id => {\n    const index = blogPosts.findIndex(b => b.id === parseInt(id));\n    if (index === -1) {\n      throw new Error('Blog post no encontrado');\n    }\n    const deleted = blogPosts.splice(index, 1)[0];\n    return deleted;\n  }\n};\n\n// ============ CARRITO ============\n\nexport const cartService = {\n  // Obtener carrito\n  get: () => {\n    return [...cart];\n  },\n  // Añadir producto al carrito\n  add: (productId, quantity = 1) => {\n    const product = products.find(p => p.id === parseInt(productId));\n    if (!product) {\n      throw new Error('Producto no encontrado');\n    }\n    const existingItem = cart.find(item => item.productId === parseInt(productId));\n    if (existingItem) {\n      existingItem.quantity += quantity;\n    } else {\n      cart.push({\n        productId: parseInt(productId),\n        product: product,\n        quantity: quantity\n      });\n    }\n    return cart;\n  },\n  // Remover producto del carrito\n  remove: productId => {\n    const index = cart.findIndex(item => item.productId === parseInt(productId));\n    if (index !== -1) {\n      cart.splice(index, 1);\n    }\n    return cart;\n  },\n  // Actualizar cantidad\n  updateQuantity: (productId, quantity) => {\n    const item = cart.find(item => item.productId === parseInt(productId));\n    if (item) {\n      if (quantity <= 0) {\n        return cartService.remove(productId);\n      }\n      item.quantity = quantity;\n    }\n    return cart;\n  },\n  // Limpiar carrito\n  clear: () => {\n    cart = [];\n    return cart;\n  },\n  // Obtener total\n  getTotal: () => {\n    return cart.reduce((total, item) => total + item.product.price * item.quantity, 0);\n  },\n  // Obtener cantidad de items\n  getCount: () => {\n    return cart.reduce((count, item) => count + item.quantity, 0);\n  }\n};\n\n// ============ CATEGORÍAS CRUD ============\n\nexport const categoryService = {\n  // READ - Obtener todas las categorías\n  getAll: () => {\n    return [...categories];\n  },\n  // READ - Obtener una categoría por ID\n  getById: id => {\n    return categories.find(c => c.id === parseInt(id));\n  },\n  // READ - Obtener una categoría por nombre\n  getByName: name => {\n    return categories.find(c => c.name === name);\n  },\n  // CREATE - Crear una nueva categoría\n  create: categoryData => {\n    const newCategory = {\n      id: nextId.categories++,\n      ...categoryData,\n      createdAt: new Date().toISOString()\n    };\n    categories.push(newCategory);\n    return newCategory;\n  },\n  // UPDATE - Actualizar una categoría existente\n  update: (id, categoryData) => {\n    const index = categories.findIndex(c => c.id === parseInt(id));\n    if (index === -1) {\n      throw new Error('Categoría no encontrada');\n    }\n    categories[index] = {\n      ...categories[index],\n      ...categoryData,\n      updatedAt: new Date().toISOString()\n    };\n    return categories[index];\n  },\n  // DELETE - Eliminar una categoría\n  delete: id => {\n    const index = categories.findIndex(c => c.id === parseInt(id));\n    if (index === -1) {\n      throw new Error('Categoría no encontrada');\n    }\n    const deleted = categories.splice(index, 1)[0];\n    return deleted;\n  }\n};\n\n// ============ ÓRDENES CRUD ============\n\nexport const orderService = {\n  // READ - Obtener todas las órdenes\n  getAll: () => {\n    return [...orders];\n  },\n  // READ - Obtener órdenes de un usuario\n  getByUserId: userId => {\n    return orders.filter(o => o.userId === parseInt(userId));\n  },\n  // READ - Obtener una orden por ID\n  getById: id => {\n    return orders.find(o => o.id === parseInt(id));\n  },\n  // CREATE - Crear una nueva orden\n  create: orderData => {\n    const newOrder = {\n      id: nextId.orders++,\n      status: 'pending',\n      ...orderData,\n      createdAt: new Date().toISOString()\n    };\n    orders.push(newOrder);\n    return newOrder;\n  },\n  // UPDATE - Actualizar una orden existente\n  update: (id, orderData) => {\n    const index = orders.findIndex(o => o.id === parseInt(id));\n    if (index === -1) {\n      throw new Error('Orden no encontrada');\n    }\n    orders[index] = {\n      ...orders[index],\n      ...orderData,\n      updatedAt: new Date().toISOString()\n    };\n    return orders[index];\n  },\n  // DELETE - Eliminar una orden\n  delete: id => {\n    const index = orders.findIndex(o => o.id === parseInt(id));\n    if (index === -1) {\n      throw new Error('Orden no encontrada');\n    }\n    const deleted = orders.splice(index, 1)[0];\n    return deleted;\n  },\n  // Procesar pago y crear orden\n  processPayment: (userId, cartItems, paymentData) => {\n    const total = cartItems.reduce((sum, item) => sum + item.product.price * item.quantity, 0);\n\n    // Simular procesamiento de pago\n    const paymentSuccess = Math.random() > 0.1; // 90% de éxito\n\n    if (paymentSuccess) {\n      const newOrder = {\n        id: nextId.orders++,\n        userId: parseInt(userId),\n        items: cartItems.map(item => ({\n          productId: item.productId,\n          productName: item.product.name,\n          quantity: item.quantity,\n          price: item.product.price,\n          subtotal: item.product.price * item.quantity\n        })),\n        total: total,\n        status: 'completed',\n        paymentMethod: paymentData.method || 'credit_card',\n        shippingAddress: paymentData.shippingAddress || {},\n        createdAt: new Date().toISOString()\n      };\n      orders.push(newOrder);\n      return {\n        success: true,\n        order: newOrder\n      };\n    } else {\n      return {\n        success: false,\n        error: 'Error en el procesamiento del pago'\n      };\n    }\n  }\n};","map":{"version":3,"names":["products","id","name","price","image","description","category","stock","users","email","password","role","createdAt","Date","toISOString","blogPosts","title","text","author","cart","orders","categories","nextId","Math","max","map","p","u","b","c","productService","getAll","getById","find","parseInt","create","productData","newProduct","push","update","index","findIndex","Error","updatedAt","delete","deleted","splice","search","query","lowerQuery","toLowerCase","filter","includes","getByCategory","getCriticalProducts","threshold","getOnSale","userService","undefined","user","userWithoutPassword","getByEmail","userData","newUser","authenticate","blogService","postData","newPost","cartService","get","add","productId","quantity","product","existingItem","item","remove","updateQuantity","clear","getTotal","reduce","total","getCount","count","categoryService","getByName","categoryData","newCategory","orderService","getByUserId","userId","o","orderData","newOrder","status","processPayment","cartItems","paymentData","sum","paymentSuccess","random","items","productName","subtotal","paymentMethod","method","shippingAddress","success","order","error"],"sources":["C:/workspace/Prueba 2 Fullstack-2/src/data/database.js"],"sourcesContent":["/**\r\n * Archivo de datos simulada (base de datos) para TechStore\r\n * Implementa operaciones CRUD para productos, usuarios y blog posts\r\n */\r\n\r\n// Datos iniciales\r\nlet products = [\r\n    { id: 1, name: \"Laptop Ultraligera\", price: 1200, image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Laptop\", description: \"Una laptop de alto rendimiento, ideal para trabajo y entretenimiento. Cuenta con un procesador de última generación y una batería de larga duración.\", category: \"Computadoras\", stock: 10 },\r\n    { id: 2, name: \"Auriculares Inalámbricos\", price: 150, image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Auriculares\", description: \"Auriculares con cancelación de ruido y sonido de alta fidelidad. Perfectos para escuchar música o hacer llamadas sin interrupciones.\", category: \"Audio\", stock: 25 },\r\n    { id: 3, name: \"Smartphone 5G\", price: 800, image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Smartphone\", description: \"El smartphone más rápido con conectividad 5G. Captura fotos impresionantes y disfruta de una fluidez inigualable en todas tus aplicaciones.\", category: \"Móviles\", stock: 15 },\r\n    { id: 4, name: \"Smartwatch Deportivo\", price: 250, image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Smartwatch\", description: \"Monitoriza tus actividades físicas y notificaciones con estilo. Resistente al agua y con una batería que dura toda la semana.\", category: \"Wearables\", stock: 30 },\r\n    { id: 5, name: \"Monitor 4K\", price: 450, image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Monitor\", description: \"Un monitor con una resolución impresionante para trabajo de diseño, edición de video y gaming. Los colores son vivos y el detalle es nítido.\", category: \"Monitores\", stock: 12 },\r\n    { id: 6, name: \"Teclado Mecánico\", price: 90, image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Teclado\", description: \"Teclado con switches mecánicos para una respuesta táctil y sonora. Ideal para gamers y programadores.\", category: \"Periféricos\", stock: 20 },\r\n    { id: 7, name: \"Mouse Gaming\", price: 60, image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Mouse\", description: \"Mouse ergonómico con alta precisión. Cuenta con botones programables y luces RGB personalizables.\", category: \"Periféricos\", stock: 35 },\r\n    { id: 8, name: \"Cámara Web Full HD\", price: 75, image: \"https://via.placeholder.com/250x200/95a5a6/ffffff?text=Webcam\", description: \"Cámara web de alta resolución para videoconferencias y streaming. Captura imágenes claras y nítidas incluso con poca luz.\", category: \"Video\", stock: 18 }\r\n];\r\n\r\nlet users = [\r\n    { id: 1, name: \"Admin\", email: \"admin@techstore.com\", password: \"admin123\", role: \"admin\", createdAt: new Date().toISOString() },\r\n    { id: 2, name: \"Juan Pérez\", email: \"juan@example.com\", password: \"user123\", role: \"user\", createdAt: new Date().toISOString() },\r\n    { id: 3, name: \"María González\", email: \"maria@example.com\", password: \"user123\", role: \"user\", createdAt: new Date().toISOString() }\r\n];\r\n\r\nlet blogPosts = [\r\n    { id: 1, title: \"Los 5 Gadgets más Esperados de 2025\", image: \"https://via.placeholder.com/400x250/3498db/ffffff?text=Blog+Post+1\", text: \"Este año promete ser uno de los más emocionantes para la tecnología. Desde autos voladores hasta dispositivos de realidad aumentada, aquí te mostramos los gadgets que están a punto de cambiar el juego. Conoce las características que los hacen únicos y por qué debes tenerlos en tu lista de deseos.\", author: \"TechStore Team\", createdAt: new Date().toISOString() },\r\n    { id: 2, title: \"Guía para Elegir tu Primera Laptop Gaming\", image: \"https://via.placeholder.com/400x250/3498db/ffffff?text=Blog+Post+2\", text: \"Adentrarse en el mundo del gaming en PC puede ser intimidante. Te explicamos los componentes clave que debes buscar en una laptop gaming: procesador, tarjeta gráfica, RAM y almacenamiento. Con nuestra guía, estarás listo para jugar tus títulos favoritos sin problemas.\", author: \"TechStore Team\", createdAt: new Date().toISOString() },\r\n    { id: 3, title: \"El Futuro de la Realidad Virtual\", image: \"https://via.placeholder.com/400x250/3498db/ffffff?text=Blog+Post+3\", text: \"La realidad virtual ya no es solo para juegos. Desde la educación hasta la medicina, su aplicación está creciendo exponencialmente. Analizamos las tendencias futuras de la RV, incluyendo la integración de la IA y el desarrollo de hardware más ligero y potente.\", author: \"TechStore Team\", createdAt: new Date().toISOString() }\r\n];\r\n\r\nlet cart = [];\r\nlet orders = [];\r\nlet categories = [\r\n    { id: 1, name: \"Computadoras\", description: \"Laptops y computadoras de escritorio\" },\r\n    { id: 2, name: \"Audio\", description: \"Auriculares y sistemas de audio\" },\r\n    { id: 3, name: \"Móviles\", description: \"Smartphones y accesorios\" },\r\n    { id: 4, name: \"Wearables\", description: \"Smartwatches y dispositivos portátiles\" },\r\n    { id: 5, name: \"Monitores\", description: \"Monitores y pantallas\" },\r\n    { id: 6, name: \"Periféricos\", description: \"Teclados, mouse y accesorios\" },\r\n    { id: 7, name: \"Video\", description: \"Cámaras y equipos de video\" }\r\n];\r\nlet nextId = {\r\n    products: Math.max(...products.map(p => p.id), 0) + 1,\r\n    users: Math.max(...users.map(u => u.id), 0) + 1,\r\n    blogPosts: Math.max(...blogPosts.map(b => b.id), 0) + 1,\r\n    orders: 1,\r\n    categories: Math.max(...categories.map(c => c.id), 0) + 1\r\n};\r\n\r\n// ============ PRODUCTOS CRUD ============\r\n\r\nexport const productService = {\r\n    // READ - Obtener todos los productos\r\n    getAll: () => {\r\n        return [...products];\r\n    },\r\n\r\n    // READ - Obtener un producto por ID\r\n    getById: (id) => {\r\n        return products.find(p => p.id === parseInt(id));\r\n    },\r\n\r\n    // CREATE - Crear un nuevo producto\r\n    create: (productData) => {\r\n        const newProduct = {\r\n            id: nextId.products++,\r\n            ...productData,\r\n            createdAt: new Date().toISOString()\r\n        };\r\n        products.push(newProduct);\r\n        return newProduct;\r\n    },\r\n\r\n    // UPDATE - Actualizar un producto existente\r\n    update: (id, productData) => {\r\n        const index = products.findIndex(p => p.id === parseInt(id));\r\n        if (index === -1) {\r\n            throw new Error('Producto no encontrado');\r\n        }\r\n        products[index] = {\r\n            ...products[index],\r\n            ...productData,\r\n            updatedAt: new Date().toISOString()\r\n        };\r\n        return products[index];\r\n    },\r\n\r\n    // DELETE - Eliminar un producto\r\n    delete: (id) => {\r\n        const index = products.findIndex(p => p.id === parseInt(id));\r\n        if (index === -1) {\r\n            throw new Error('Producto no encontrado');\r\n        }\r\n        const deleted = products.splice(index, 1)[0];\r\n        return deleted;\r\n    },\r\n\r\n    // Buscar productos por nombre o categoría\r\n    search: (query) => {\r\n        const lowerQuery = query.toLowerCase();\r\n        return products.filter(p => \r\n            p.name.toLowerCase().includes(lowerQuery) ||\r\n            p.category.toLowerCase().includes(lowerQuery) ||\r\n            p.description.toLowerCase().includes(lowerQuery)\r\n        );\r\n    },\r\n\r\n    // Obtener productos por categoría\r\n    getByCategory: (category) => {\r\n        return products.filter(p => p.category === category);\r\n    },\r\n\r\n    // Obtener productos críticos (stock bajo)\r\n    getCriticalProducts: (threshold = 15) => {\r\n        return products.filter(p => p.stock <= threshold);\r\n    },\r\n\r\n    // Obtener productos en oferta (simulado: productos con descuento del 20% o más)\r\n    getOnSale: () => {\r\n        // Para simular ofertas, podríamos marcar algunos productos\r\n        // Por ahora retornamos productos con precio menor a cierto umbral\r\n        return products.filter(p => p.price < 300);\r\n    }\r\n};\r\n\r\n// ============ USUARIOS CRUD ============\r\n\r\nexport const userService = {\r\n    // READ - Obtener todos los usuarios\r\n    getAll: () => {\r\n        return users.map(u => ({ ...u, password: undefined })); // No devolver passwords\r\n    },\r\n\r\n    // READ - Obtener un usuario por ID\r\n    getById: (id) => {\r\n        const user = users.find(u => u.id === parseInt(id));\r\n        if (user) {\r\n            const { password, ...userWithoutPassword } = user;\r\n            return userWithoutPassword;\r\n        }\r\n        return null;\r\n    },\r\n\r\n    // READ - Obtener usuario por email\r\n    getByEmail: (email) => {\r\n        return users.find(u => u.email === email);\r\n    },\r\n\r\n    // CREATE - Crear un nuevo usuario\r\n    create: (userData) => {\r\n        const newUser = {\r\n            id: nextId.users++,\r\n            role: 'user',\r\n            ...userData,\r\n            createdAt: new Date().toISOString()\r\n        };\r\n        users.push(newUser);\r\n        const { password, ...userWithoutPassword } = newUser;\r\n        return userWithoutPassword;\r\n    },\r\n\r\n    // UPDATE - Actualizar un usuario existente\r\n    update: (id, userData) => {\r\n        const index = users.findIndex(u => u.id === parseInt(id));\r\n        if (index === -1) {\r\n            throw new Error('Usuario no encontrado');\r\n        }\r\n        users[index] = {\r\n            ...users[index],\r\n            ...userData,\r\n            updatedAt: new Date().toISOString()\r\n        };\r\n        const { password, ...userWithoutPassword } = users[index];\r\n        return userWithoutPassword;\r\n    },\r\n\r\n    // DELETE - Eliminar un usuario\r\n    delete: (id) => {\r\n        const index = users.findIndex(u => u.id === parseInt(id));\r\n        if (index === -1) {\r\n            throw new Error('Usuario no encontrado');\r\n        }\r\n        const deleted = users.splice(index, 1)[0];\r\n        const { password, ...userWithoutPassword } = deleted;\r\n        return userWithoutPassword;\r\n    },\r\n\r\n    // Autenticar usuario\r\n    authenticate: (email, password) => {\r\n        const user = users.find(u => u.email === email && u.password === password);\r\n        if (user) {\r\n            const { password, ...userWithoutPassword } = user;\r\n            return userWithoutPassword;\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\n// ============ BLOG POSTS CRUD ============\r\n\r\nexport const blogService = {\r\n    // READ - Obtener todos los blog posts\r\n    getAll: () => {\r\n        return [...blogPosts];\r\n    },\r\n\r\n    // READ - Obtener un blog post por ID\r\n    getById: (id) => {\r\n        return blogPosts.find(b => b.id === parseInt(id));\r\n    },\r\n\r\n    // CREATE - Crear un nuevo blog post\r\n    create: (postData) => {\r\n        const newPost = {\r\n            id: nextId.blogPosts++,\r\n            author: \"TechStore Team\",\r\n            ...postData,\r\n            createdAt: new Date().toISOString()\r\n        };\r\n        blogPosts.push(newPost);\r\n        return newPost;\r\n    },\r\n\r\n    // UPDATE - Actualizar un blog post existente\r\n    update: (id, postData) => {\r\n        const index = blogPosts.findIndex(b => b.id === parseInt(id));\r\n        if (index === -1) {\r\n            throw new Error('Blog post no encontrado');\r\n        }\r\n        blogPosts[index] = {\r\n            ...blogPosts[index],\r\n            ...postData,\r\n            updatedAt: new Date().toISOString()\r\n        };\r\n        return blogPosts[index];\r\n    },\r\n\r\n    // DELETE - Eliminar un blog post\r\n    delete: (id) => {\r\n        const index = blogPosts.findIndex(b => b.id === parseInt(id));\r\n        if (index === -1) {\r\n            throw new Error('Blog post no encontrado');\r\n        }\r\n        const deleted = blogPosts.splice(index, 1)[0];\r\n        return deleted;\r\n    }\r\n};\r\n\r\n// ============ CARRITO ============\r\n\r\nexport const cartService = {\r\n    // Obtener carrito\r\n    get: () => {\r\n        return [...cart];\r\n    },\r\n\r\n    // Añadir producto al carrito\r\n    add: (productId, quantity = 1) => {\r\n        const product = products.find(p => p.id === parseInt(productId));\r\n        if (!product) {\r\n            throw new Error('Producto no encontrado');\r\n        }\r\n\r\n        const existingItem = cart.find(item => item.productId === parseInt(productId));\r\n        if (existingItem) {\r\n            existingItem.quantity += quantity;\r\n        } else {\r\n            cart.push({\r\n                productId: parseInt(productId),\r\n                product: product,\r\n                quantity: quantity\r\n            });\r\n        }\r\n        return cart;\r\n    },\r\n\r\n    // Remover producto del carrito\r\n    remove: (productId) => {\r\n        const index = cart.findIndex(item => item.productId === parseInt(productId));\r\n        if (index !== -1) {\r\n            cart.splice(index, 1);\r\n        }\r\n        return cart;\r\n    },\r\n\r\n    // Actualizar cantidad\r\n    updateQuantity: (productId, quantity) => {\r\n        const item = cart.find(item => item.productId === parseInt(productId));\r\n        if (item) {\r\n            if (quantity <= 0) {\r\n                return cartService.remove(productId);\r\n            }\r\n            item.quantity = quantity;\r\n        }\r\n        return cart;\r\n    },\r\n\r\n    // Limpiar carrito\r\n    clear: () => {\r\n        cart = [];\r\n        return cart;\r\n    },\r\n\r\n    // Obtener total\r\n    getTotal: () => {\r\n        return cart.reduce((total, item) => total + (item.product.price * item.quantity), 0);\r\n    },\r\n\r\n    // Obtener cantidad de items\r\n    getCount: () => {\r\n        return cart.reduce((count, item) => count + item.quantity, 0);\r\n    }\r\n};\r\n\r\n// ============ CATEGORÍAS CRUD ============\r\n\r\nexport const categoryService = {\r\n    // READ - Obtener todas las categorías\r\n    getAll: () => {\r\n        return [...categories];\r\n    },\r\n\r\n    // READ - Obtener una categoría por ID\r\n    getById: (id) => {\r\n        return categories.find(c => c.id === parseInt(id));\r\n    },\r\n\r\n    // READ - Obtener una categoría por nombre\r\n    getByName: (name) => {\r\n        return categories.find(c => c.name === name);\r\n    },\r\n\r\n    // CREATE - Crear una nueva categoría\r\n    create: (categoryData) => {\r\n        const newCategory = {\r\n            id: nextId.categories++,\r\n            ...categoryData,\r\n            createdAt: new Date().toISOString()\r\n        };\r\n        categories.push(newCategory);\r\n        return newCategory;\r\n    },\r\n\r\n    // UPDATE - Actualizar una categoría existente\r\n    update: (id, categoryData) => {\r\n        const index = categories.findIndex(c => c.id === parseInt(id));\r\n        if (index === -1) {\r\n            throw new Error('Categoría no encontrada');\r\n        }\r\n        categories[index] = {\r\n            ...categories[index],\r\n            ...categoryData,\r\n            updatedAt: new Date().toISOString()\r\n        };\r\n        return categories[index];\r\n    },\r\n\r\n    // DELETE - Eliminar una categoría\r\n    delete: (id) => {\r\n        const index = categories.findIndex(c => c.id === parseInt(id));\r\n        if (index === -1) {\r\n            throw new Error('Categoría no encontrada');\r\n        }\r\n        const deleted = categories.splice(index, 1)[0];\r\n        return deleted;\r\n    }\r\n};\r\n\r\n// ============ ÓRDENES CRUD ============\r\n\r\nexport const orderService = {\r\n    // READ - Obtener todas las órdenes\r\n    getAll: () => {\r\n        return [...orders];\r\n    },\r\n\r\n    // READ - Obtener órdenes de un usuario\r\n    getByUserId: (userId) => {\r\n        return orders.filter(o => o.userId === parseInt(userId));\r\n    },\r\n\r\n    // READ - Obtener una orden por ID\r\n    getById: (id) => {\r\n        return orders.find(o => o.id === parseInt(id));\r\n    },\r\n\r\n    // CREATE - Crear una nueva orden\r\n    create: (orderData) => {\r\n        const newOrder = {\r\n            id: nextId.orders++,\r\n            status: 'pending',\r\n            ...orderData,\r\n            createdAt: new Date().toISOString()\r\n        };\r\n        orders.push(newOrder);\r\n        return newOrder;\r\n    },\r\n\r\n    // UPDATE - Actualizar una orden existente\r\n    update: (id, orderData) => {\r\n        const index = orders.findIndex(o => o.id === parseInt(id));\r\n        if (index === -1) {\r\n            throw new Error('Orden no encontrada');\r\n        }\r\n        orders[index] = {\r\n            ...orders[index],\r\n            ...orderData,\r\n            updatedAt: new Date().toISOString()\r\n        };\r\n        return orders[index];\r\n    },\r\n\r\n    // DELETE - Eliminar una orden\r\n    delete: (id) => {\r\n        const index = orders.findIndex(o => o.id === parseInt(id));\r\n        if (index === -1) {\r\n            throw new Error('Orden no encontrada');\r\n        }\r\n        const deleted = orders.splice(index, 1)[0];\r\n        return deleted;\r\n    },\r\n\r\n    // Procesar pago y crear orden\r\n    processPayment: (userId, cartItems, paymentData) => {\r\n        const total = cartItems.reduce((sum, item) => sum + (item.product.price * item.quantity), 0);\r\n        \r\n        // Simular procesamiento de pago\r\n        const paymentSuccess = Math.random() > 0.1; // 90% de éxito\r\n\r\n        if (paymentSuccess) {\r\n            const newOrder = {\r\n                id: nextId.orders++,\r\n                userId: parseInt(userId),\r\n                items: cartItems.map(item => ({\r\n                    productId: item.productId,\r\n                    productName: item.product.name,\r\n                    quantity: item.quantity,\r\n                    price: item.product.price,\r\n                    subtotal: item.product.price * item.quantity\r\n                })),\r\n                total: total,\r\n                status: 'completed',\r\n                paymentMethod: paymentData.method || 'credit_card',\r\n                shippingAddress: paymentData.shippingAddress || {},\r\n                createdAt: new Date().toISOString()\r\n            };\r\n            orders.push(newOrder);\r\n            return { success: true, order: newOrder };\r\n        } else {\r\n            return { success: false, error: 'Error en el procesamiento del pago' };\r\n        }\r\n    }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}